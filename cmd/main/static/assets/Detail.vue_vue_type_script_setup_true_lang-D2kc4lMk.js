import{d as a,dG as e,r as l,o as t,i as o,w as s,e as n,a as i,B as u,z as r,t as d,l as m}from"./index-D9UQcSFE.js";import{a as c,E as v}from"./el-form-ClIvQroC.js";import{E as p,a as f}from"./el-col-CXXou3fy.js";import{E as y}from"./el-divider-LTX6_6vl.js";import{j as _,o as g,T as j}from"./index-r_ORVl1e.js";import{u as w,b as x}from"./index-7Bo_TG81.js";const b=a({__name:"Detail",props:{closeDialog:{type:Function},getList:{type:Function},pocForm:{}},setup(a){const{t:b}=m(),h=[_(),g],F=a,{pocForm:D}=e(F),k=l({...D.value}),z=l(!1),E=l(),V=l([...D.value.tags]);return l(""),l(!1),l(),(a,e)=>(t(),o(i(v),{model:k.value,"label-width":"120px","status-icon":"",ref_key:"ruleFormRef",ref:E},{default:s((()=>[n(i(c),{label:i(b)("poc.content"),prop:"content"},{default:s((()=>[n(i(j),{modelValue:k.value.content,"onUpdate:modelValue":e[0]||(e[0]=a=>k.value.content=a),style:{height:"600px",width:"100%"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:h},null,8,["modelValue"])])),_:1},8,["label"]),n(i(y)),n(i(f),null,{default:s((()=>[n(i(p),{span:2,offset:8},{default:s((()=>[n(i(c),null,{default:s((()=>[n(i(u),{type:"primary",onClick:e[1]||(e[1]=a=>(async a=>{if(z.value=!0,a)try{await a.validate((async(a,e)=>{if(a){let a;a=""!=k.value.id?await w(k.value.id,k.value.name,k.value.content,k.value.level,V.value):await x(k.value.name,k.value.content,k.value.level,V.value),200===a.code&&(F.getList(),F.closeDialog())}}))}catch(e){}finally{z.value=!1}})(E.value)),loading:z.value},{default:s((()=>[r(d(i(b)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]))}});export{b as _};
